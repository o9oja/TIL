도커란 무엇인가?

✔️ 도커는 '데이터 또는 프로그램을 격리시키는' 기능을 제공한다.
도커를 한마디로 정의하자면 데이터 또는 프로그램을 격리시키는 기능을 제공하는 소프트웨어이다.

우리가 현재 사용하는 컴퓨터에는 여러 기능이 함께 동작하고 있는데, 도커는 이와 같은 다양한 프로그램과 데이터를 각각 독립된 환경에 격리하는 기능을 제공한다.
그것도 운영체제(비슷한 것) 통째로 격리하는 기능이다!


✔️ 컨테이너와 도커 엔진
소프트웨어는 OS와 라이브러리에 의존성을 띄고있어, 하나의 컴퓨터에서 성격이 다른(OS, 라이브러리 버전이 다른) 소프트웨어를 한번에 실행할 때 어려움을 가질 수 있고 관련된 구성을 관리하기가 어렵다.

컨테이너는 개별 Software의 실행에 필요한 실행환경을 독립적으로 운용할 수 있도록 기반환경 또는 다른 실행환경과의 간섭을 막고 실행의 독립성을 확보해주는 운영체계 수준의 격리 기술이다.

쉽게 설명하자면!
개인용 컴퓨터 또는 서버상의 환경을 마치 코스트코에서 판매하는 조립형 창고같은 작은 방으로 분할하고 이 작게 쪼갠 독립된 방에 데이터나 프로그램을 둔다고 가정했을 때,
이 조립형 창고가 컨테이너이고 컨테이너를 다루는 기능을 제공하는 소프트웨어가 도커인 셈이다.

도커를 사용하기 위해서는 도커 소프트웨어의 본체인 도커 엔진을 설치해야 한다.
이 도커 엔진을 사용해 컨테이너를 생성하고 구동시킬 수 있다.


✔️ 컨테이너를 만들려면 이미지가 필요하다
도커 엔진이 있어야 컨테이너를 만들 수 있다고 설명했다.
컨테이너를 만들기 위해서는 도커 엔진 외에도 컨테이너의 빵틀과 같은 역할을 하는 이미지가 필요하다.

이미지는 담고 있는 소프트웨어의 종류에 따라 다양하게 존재한다.
➡️ 아파치 컨테이너를 만들고싶다면 아파치 이미지, MySQL 컨테이너를 만들고싶다면 MySQL 이미지 사용

또한 컨테이너는 여러 개를 만들 수도 있다.


4. 도커는 리눅스 컴퓨터에서 사용한다.

다만 도커를 사용하는 데는 몇 가지 제약 사항이 존재한다.

우선, 종류와 상관없이 리눅스 운영체제가 필요하다.
윈도우나 macOS에서 도커를 구동할 수는 있지만 이 역시 내부적으로 리눅스가 사용된다.

또한 컨테이너에서 동작시킬 프로그램도 리눅스용 프로그램인데, 이는 도커가 리눅스 운영체제에서 사용되는 것을 전제로 만들어졌기 때문이다.

어떤 형태로든, 리눅스 운영체제가 개입된다는 것을 기억하자!


데이터나 프로그램을 "독립된 환경"에 격리해야 하는 이유
도커는 주로 서버 환경을 격리하기 위해 사용된다.
그렇다면 데이터나 프로그램을 독립된 환경에 격리해야 하는 이유가 무엇일까?

✔️ 프로그램을 실행하기 위해서는 그 프로그램의 실행 환경이나 라이브러리가 필요하다.
대부분의 프로그램은 프로그램 단독으로 동작하는 것이 아닌 어떤 실행환경이나 라이브러리, 다른 프로그램과 함께 동작한다.


✔️ 소프트웨어는 여러 프로그램으로 구성되며, 다른 프로그램과 정보를 공유하기도 한다.
소프트웨어 또한 단일 프로그램이 아닌 여러 개의 프로그램으로 구성된 경우가 많다.
또한 다른 프로그램과 특정한 폴더/디렉토리를 공유하거나 같은 경로에 설정 정보를 저장하는 경우도 있다.

그렇게 때문에 만약 프로그램 하나를 업데이트하면 다른 프로그램에도 영향을 미치게 된다!

시스템 A와 B가 모두 SS라는 프로그램과 연동되어 있다고 가정해보자.
만약 A는 SS프로그램 5.0 버전에서 동작하는데, 시스템 B가 SS프로그램 버전을 8.0으로 업데이트 해버리면 A가 동작하지 않게 될 것이다!

여기서는 소프트웨어를 예시로 들었지만, 실행 환경이나 라이브러리, 디렉토리나 설정 파일에서도 같은 상황이 발생할 수도 있다.
공유하는 대상을 어느 한 쪽만을 위해 수정하면 다른 쪽에서는 오류가 발생하게 된다.


프로그램의 격리란?
도커 컨테이너를 사용해 프로그램을 격리하면 여러 프로그램이 한 서버에서 실행되면서 발생하게 되는 위와 같은 문제들을 대부분 해결할 수 있다!

시스템 A와 B의 버전이 각각 달라도, 한 세트로 묶어 따로 격리시켜 사용할 수 있다.

도커 컨테이너는 완전히 독립된 환경이므로 여러 컨테이너에서 같은 프로그램을 실행할 수 있다. 버전이 완전히 동일해도 상관없다.